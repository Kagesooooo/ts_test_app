name: CI/CD (Lint & Test)

# ã“ã‚ŒãŒã„ã¤å®Ÿè¡Œã•ã‚Œã‚‹ã‹ã®ãƒˆãƒªã‚¬ãƒ¼ã‚’æŒ‡å®š
on:
  push:
    branches:
      - main  # mainãƒ–ãƒ©ãƒ³ãƒã¸ã®pushæ™‚ã«å®Ÿè¡Œ
  pull_request:
    branches:
      - main  # PRãŒä½œæˆã•ã‚ŒãŸã¨ãã«ã‚‚å®Ÿè¡Œ

jobs:
  build:
    runs-on: ubuntu-latest  # Linuxã®æœ€æ–°ç’°å¢ƒã§å‹•ã

    steps:
    - name: ğŸ“¥ ã‚³ãƒ¼ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
      uses: actions/checkout@v3

    - name: ğŸ“¦ Node.jsã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
      uses: actions/setup-node@v3
      with:
        node-version: 18  # Node.js 18ã‚’ä½¿ã†

    - name: ğŸ“¥ ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
      run: npm install

    - name: âœ¨ Lintãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ
      run: npm run lint

    - name: ğŸ§ª ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
      run: npm test